set(DRIVER_SOUCES
    ${CMAKE_CURRENT_SOURCE_DIR}/8259_pic.c
    ${CMAKE_CURRENT_SOURCE_DIR}/8254_pit.c
    ${CMAKE_CURRENT_SOURCE_DIR}/8042_ps2.c
    ${CMAKE_CURRENT_SOURCE_DIR}/ps2kb.c
    ${CMAKE_CURRENT_SOURCE_DIR}/ps2mouse.c
    ${CMAKE_CURRENT_SOURCE_DIR}/pcspeaker.c
    )

compile_lib(
    NAME kernel_drivers
    SOURCES ${DRIVER_SOUCES}
    FLAGS ${MOS_KERNEL_GCC_FLAGS}
    DEFINITIONS ${MOS_KERNEL_GCC_DEFINITIONS}
    INCLUDE_DIRECTORIES ${MOS_KERNEL_GCC_INCLUDE_DIRS}
    )
