set(KERNEL_SOURCES
    ${CMAKE_CURRENT_SOURCE_DIR}/disp.c
    ${CMAKE_CURRENT_SOURCE_DIR}/kmalloc.c
    ${CMAKE_CURRENT_SOURCE_DIR}/kstdlib.c
    ${CMAKE_CURRENT_SOURCE_DIR}/pmm.c
    ${CMAKE_CURRENT_SOURCE_DIR}/printk.c
    ${CMAKE_CURRENT_SOURCE_DIR}/salloc.c
    )

compile_lib(
    NAME kernel
    SOURCES ${KERNEL_SOURCES}
    FLAGS ${MOS_KERNEL_GCC_FLAGS}
    INCLUDE_DIRECTORIES ${MOS_GCC_INCLUDE_DIRS}
    )
